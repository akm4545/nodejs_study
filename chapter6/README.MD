# **자바스크립트에서 비동기 처리하기 (아는 내용이므로 간단하게 정리)**  
# **자바스크립트 비동기 소개**  
동기(synchronous) 프로그래밍에서 작업은 차례로 실행. 이전 작업이 완료될 때까지 중단할 수 없음. 비동기(asynchronous) 프로그래밍에서는 임의의 순서로 
또는 동시에 작업 실행 가능.  
  
자바스크립트는 런타임(브라우저나 Node.js)에서 싱글 스레드로 동작. 싱글 스레드는 한 번에 하나의 작업만 처리 가능. 콜백, 프로미스, 어싱크 어웨이트 
방법을 사용하면 자바스크립트에서 비동기 처리 가능.  
  
콜백은 함수의 파라미터로 함수를 전달하며 비동기 처리가 끝났을 때 전달된 함수를 실행. 가독성이 좋지 못하여 유지보수 및 디버깅이 힘들다.  
  
프로미스(Promise 객체 사용)는 콜백 대신 사용할 수 있는 방법으로 비동기 작업이 완료되면 결과를 반환하는 객체. 처음에는 대기였다가 작업이 완료되면 
성공 또는 실패 상되가 된다. then(), catch() 메서드를 사용하여 성공과 실패 처리 가능.  
  
어싱크 어웨이트(async, await 키워드 사용)는 프로미스를 사용하는 비동기 작업을 동기적으로 처리하는 것처럼 코드를 작성할 수 있게 해줌. async가 
붙어 있는 함수를 실행할 때 await 키워드를 사용하여 비동기 작업이 완료될 때까지 기다릴 수 있다.  
  
# **콜백 함수 소개**  
비동기는 현재 코드의 실행 결과를 받지 않고 이후 코드를 수행하는 기법. 컴퓨팅 자원을 효율적으로 사용하지만 정확한 순서를 지켜 수행해야 하는지를 
고려해서 처리해야함. 이 방법으로 콜백이 있음. 콜백은 실행 가능한 함수를 인자로 전달하여 특정 상황이 발생할 때 호출되게 하는 방식.  
  
## **콜백 함수 작성해보기**  
시나리오  
DB 저장, 이메일 전송, 성공 메시지 출력 순  
  
1. callback-promise-aync-await 디렉터리 생성  
2. callback-test.js 작성  
  
매우 간단한 코드인데도 콜백을 사용하는 경우 다소 복잡해진다. 콜백의 깊은 곳에서 데이터를 주고받을 때 에러가 발생하면 에러를 추척하기 어렵다.  
  
프로미스(프라미스로도 읽음)는 콜백의 문제를 해결할 목적으로 ES6에 도입.  
  
# **Promise 객체**  
Promise는 자바스크립에서 비동기 실행을 동기화하는 구문으로 사용. 이행, 거절, 대기 세 가지의 상태를 가질 수 있다.    
  
자바스크립에서 '이 코드는 미래의 어느 시점에 실행할 거야'라고 약속하는 객체로 사용. Promise는 객체이므로 new 연산자로 인스턴스를 생성할 수 있다.  
  
Promise 객체가 생성되면 대기 상태. resolve() 함수가 실행되면 이행 상태로 변경. 실패해 reject() 함수가 실행되면 거절로 변경.  
  
1. 콜백으로 만든 회원 가입 예제를 프로미스로 변경  
callback-promise-async-await/promise-test.js  
  
Promise에는 then(Promise) 메서드가 있어서 비동기 호출이지만 promise1.then(promise2).then(promise3) 이런 식으로 순서대로 함수를 호출할 수 
있다.  
  
Promise 객체의 실행 결과로 실패를 주어야 하는 경우 reject() 함수를 사용한다.  
then(onFulfilled, onRejected)  
  
Promise에서 발생하는 에러에는 .catch()를 사용한다.  
then().catch(error => new Error(error)  
  
# **동시에 여러 Promise 객체 호출하기**  
Promise.all([Promise1, Promise2...]) 처럼 사용하면 된다. 결과는 배열로 반환된다.  
  
# **Promise 에외 처리하기**  
.catch()와 .finally를 사용한다.  
  
